(this["webpackJsonpcoin-cap"]=this["webpackJsonpcoin-cap"]||[]).push([[0],[,function(e,t,a){e.exports={name:"row_name__1qpuh",prise:"row_prise__2pXkg",market:"row_market__34brS",volume:"row_volume__3Rf3V",img:"row_img__3J7HR",usual:"row_usual__1Gs_6",changed:"row_changed__1KUCD"}},function(e,t,a){e.exports={head:"head_head__3GSI_",name:"head_name__1T_hN",prise:"head_prise__3ey_Q",market:"head_market__2FWTM",volume:"head_volume__2Y7TW"}},,,,,,,,,function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(10),s=a.n(c),r=(a(16),a(3)),i=a(4),l=a(8),u=a(6),m=a(5),h=a(7),d=(a(17),a(2)),p=a.n(d);var v=function(e){return o.a.createElement("section",{className:p.a.head},o.a.createElement("table",null,o.a.createElement("tr",null,o.a.createElement("th",{className:p.a.name},"\u0418\u043c\u044f"),o.a.createElement("th",{className:p.a.price},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),o.a.createElement("th",{className:p.a.market},"\u0420\u044b\u043d\u043e\u0447\u043d\u0430\u044f \u043a\u0430\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"),o.a.createElement("th",{className:p.a.volume},"\u0421\u0443\u0442\u043e\u0447\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043c"))))},_=a(1),f=a.n(_),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={name:e.data.name,market:e.data.marketCapUsd,price:e.data.priceUsd,volume:e.data.volumeUsd24Hr,color:f.a.usual,symbol:o.a.createElement("div",null)},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new WebSocket("wss://ws.coincap.io/prices?assets=".concat(this.props.data.id));t.onmessage=function(t){return e.updatePrice(t)},t.onerror=function(e){return console.log(e)},this.getSymbol()}},{key:"updatePrice",value:function(e){var t=this,a=JSON.parse(e.data),n=this.state.price;this.setState({price:a[this.props.data.id]}),this.conversionNum(n)!==this.conversionNum(this.state.price)&&(this.setState({color:f.a.changed}),setTimeout((function(){return t.setState({color:f.a.usual})}),200))}},{key:"conversionNum",value:function(e){var t=parseFloat(e).toFixed(2),a=e.indexOf(".");return a<4?"".concat(t):a>=4&&a<7?"".concat(t.slice(0,a-3),",").concat(t.slice(a-3)):a>=7&&a<10?"".concat(t.slice(0,a-6),".").concat(t.slice(a-6,a-4),"m"):a>=10&&a<13?"".concat(t.slice(0,a-9),".").concat(t.slice(a-9,a-7),"b"):e}},{key:"getSymbol",value:function(){var e=this,t=document.createElement("img"),a="https://static.coincap.io/assets/icons/".concat(this.props.data.symbol.toLowerCase(),"@2x.png");t.src=a;var n=o.a.createElement("img",{alt:"logo",src:a,className:f.a.img}),c=o.a.createElement("img",{alt:"logo",src:"https://coincap.io/static/logo_mark.png",className:f.a.img});t.onload=function(){e.setState({symbol:n})},t.onerror=function(){e.setState({symbol:c})}}},{key:"render",value:function(){return o.a.createElement("tr",{className:this.state.color},o.a.createElement("td",{className:f.a.name},this.state.symbol,this.state.name),o.a.createElement("td",{className:f.a.price},"$ ",this.conversionNum(this.state.price)),o.a.createElement("td",{className:f.a.market},"$ ",this.conversionNum(this.state.market)),o.a.createElement("td",{className:f.a.volume},"$ ",this.conversionNum(this.state.volume)))}}]),t}(o.a.Component);var g,k=function(e){var t=e.coins.data.map((function(e){return o.a.createElement(b,{data:e,key:e.id})}));return o.a.createElement("section",{className:"mouse table"},o.a.createElement("table",null,t))},E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handelTouch=a.handelTouch.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handelTouch",value:function(e){var t=document.querySelector(".table");t.classList.remove("mouse"),t.classList.add("touch")}},{key:"render",value:function(){return o.a.createElement("article",{onTouchStart:this.props.touch?this.handelTouch:null,className:(this.props.touch?"":"notouch")+" coins"},o.a.createElement(v,null),o.a.createElement(k,{coins:this.props.coins}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"ontouchstart"in window||window.DocumentTouch?(console.log("this is a touch device"),g=!0):(console.log("this is not a touch device"),g=!1),fetch("https://api.coincap.io/v2/assets/?limit=15").then((function(e){return e.json()})).then((function(e){s.a.render(o.a.createElement(E,{coins:e,touch:g}),document.getElementById("root"))})).catch((function(e){return console.log(e)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[11,1,2]]]);
//# sourceMappingURL=main.092f958f.chunk.js.map